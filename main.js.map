{"version":3,"file":"main.js","mappings":"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","sources":["webpack://mesto/./src/scripts/utils/constants.js","webpack://mesto/./src/scripts/components/Section.js","webpack://mesto/./src/scripts/components/FormValidator.js","webpack://mesto/./src/scripts/components/Card.js","webpack://mesto/./src/scripts/components/Popup.js","webpack://mesto/./src/scripts/components/PopupWithForm.js","webpack://mesto/./src/scripts/components/UserInfo.js","webpack://mesto/./src/scripts/components/PopupWithImage.js","webpack://mesto/./src/scripts/components/Api.js","webpack://mesto/./src/scripts/components/PopupWithConfirmation.js","webpack://mesto/./src/pages/index.js"],"sourcesContent":["\r\nconst popupEditProfile = document.querySelector('.popup-edit');\r\nconst popupAddNewCard = document.querySelector('.popup-add');\r\nconst popupEditAvatar = document.querySelector('.popup_type_avatar');\r\n\r\nconst profileEditBtn = document.querySelector('.profile__edit-button');\r\nconst popupAddNewCardOpenBtn = document.querySelector('.profile__add-button');\r\nconst buttonEditAvatar = document.querySelector('.profile__edit-avatar');\r\n\r\nconst formEditProfile = popupEditProfile.querySelector('.popup__form');\r\nconst formAddNewCard = popupAddNewCard.querySelector('.popup__form');\r\nconst formEditAvatar = popupEditAvatar.querySelector('.popup__form');\r\n\r\nconst nameInput = formEditProfile.querySelector('#text-name');\r\nconst jobInput = formEditProfile.querySelector('#text-profile');\r\n\r\nconst avatar = document.querySelector('.profile__avatar');\r\n\r\nconst config = {\r\n\tpopupForm: '.popup__form',\r\n\tinputErrorClass: 'popup__input_type_error',\r\n\tinputErrorActive: 'form__input-error_active',\r\n\tactiveButtonClass: 'popup__button_valid',\r\n\tinactiveButtonClass: 'popup__button_disabled',\r\n\tformInput: '.popup__input',\r\n\tformSubmit: '.popup__button',\r\n};\r\n\r\nexport {\r\n\tpopupEditProfile, profileEditBtn, formEditProfile, nameInput, jobInput, formAddNewCard,\r\n\tpopupAddNewCardOpenBtn, popupAddNewCard, config, buttonEditAvatar, formEditAvatar,\r\n\tavatar\r\n};","\r\nexport default class Section {\r\n\tconstructor({ renderer }, containerSelector) {\r\n\t\tthis._renderer = renderer;\r\n\t\tthis._container = document.querySelector(containerSelector);\r\n\t}\r\n\r\n\trenderItems(data) {\r\n\t\tdata.forEach(item => this._renderer(item));\r\n\t}\r\n\r\n\taddItem(element) {\r\n\t\tthis._container.prepend(element);\r\n\t}\r\n}","export default class FormValidator {\r\n\tconstructor(config, formElement) {\r\n\t\tthis._config = config;\r\n\t\tthis._formElement = formElement;\r\n\t\tthis._inputList = Array.from(this._formElement.querySelectorAll(this._config.formInput));\r\n\t\tthis._buttonElement = this._formElement.querySelector(this._config.formSubmit);\r\n\t\tthis._inactiveButtonClass = config.inactiveButtonClass;\r\n\t}\r\n\t// добавление класса с ошибкой\r\n\t_showInputError(inputElement, errorMessage) {\r\n\t\tconst errorElement = this._formElement.querySelector(`#${inputElement.id}-error`);\r\n\t\tinputElement.classList.add(this._config.inputErrorClass);\r\n\t\terrorElement.textContent = errorMessage;\r\n\t\terrorElement.classList.add(this._config.inputErrorActive);\r\n\t};\r\n\r\n\t// удаление класса с ошибкой\r\n\t_hideInputError(inputElement) {\r\n\t\tconst errorElement = this._formElement.querySelector(`#${inputElement.id}-error`);\r\n\t\tinputElement.classList.remove(this._config.inputErrorClass);\r\n\t\terrorElement.classList.remove(this._config.inputErrorActive);\r\n\t\terrorElement.textContent = '';\r\n\t};\r\n\r\n\t// добавление или удаление текста ошибки в зависимости от валидности поля ввода\r\n\t_checkInputValidity(inputElement) {\r\n\t\tif (!inputElement.validity.valid) {\r\n\t\t\tthis._showInputError(inputElement, inputElement.validationMessage);\r\n\t\t} else {\r\n\t\t\tthis._hideInputError(inputElement);\r\n\t\t}\r\n\t};\r\n\r\n\t// проверка валидность поля ввода\r\n\t_hasInvalidInput() {\r\n\t\treturn this._inputList.some((inputElement) => {\r\n\t\t\treturn !inputElement.validity.valid;\r\n\t\t});\r\n\t};\r\n\r\n\ttoggleButtonState = () => {\r\n\t\tif (this._hasInvalidInput()) {\r\n\t\t\tthis._buttonElement.classList.add(this._inactiveButtonClass);\r\n\t\t\tthis._buttonElement.setAttribute('disabled', true);\r\n\t\t} else {\r\n\t\t\tthis._buttonElement.classList.remove(this._inactiveButtonClass);\r\n\t\t\tthis._buttonElement.removeAttribute('disabled');\r\n\t\t}\r\n\t}\r\n\r\n\t_setEventListeners() {\r\n\t\tthis.toggleButtonState();\r\n\r\n\t\tthis._inputList.forEach((inputElement) => {\r\n\t\t\tinputElement.addEventListener('input', () => {\r\n\t\t\t\tthis._checkInputValidity(inputElement);\r\n\t\t\t\tthis.toggleButtonState();\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis._formElement.addEventListener('submit', (event) => {\r\n\t\t\tevent.preventDefault();\r\n\t\t})\r\n\t};\r\n\r\n\tenableValidation() {\r\n\t\tthis._setEventListeners();\r\n\t};\r\n}","export default class Card {\r\n\tconstructor({ data, cardSelector, userId, handleCardClick, handleDeleteIconClick, handleSetLike, handleRemoveLike }) {\r\n\t\tthis._name = data.name;\r\n\t\tthis._link = data.link;\r\n\t\tthis._cardSelector = cardSelector;\r\n\t\tthis._userId = userId;\r\n\t\tthis._cardId = data._id;\r\n\t\tthis._cardOwnerId = data.owner._id;\r\n\t\tthis._handleCardClick = handleCardClick;\r\n\t\tthis._handleDeleteIconClick = handleDeleteIconClick;\r\n\t\tthis._likes = data.likes;\r\n\t\tthis._handleSetLike = handleSetLike;\r\n\t\tthis._handleRemoveLike = handleRemoveLike;\r\n\t}\r\n\r\n\t// Получаем шаблон карточки\r\n\t_getTemplate() {\r\n\t\tthis._card = document\r\n\t\t\t.querySelector(this._cardSelector)\r\n\t\t\t.content\r\n\t\t\t.querySelector('.element')\r\n\t\t\t.cloneNode(true);\r\n\r\n\t\treturn this._card;\r\n\t}\r\n\r\n\t// Удаление карточки\r\n\tdeleteCard() {\r\n\t\tthis._element.remove();\r\n\t\tthis._element = null;\r\n\t}\r\n\r\n\t// Устанавливаем слушатели на карточку\r\n\t_setEventListeners() {\r\n\t\tthis._image.addEventListener('click', () => {\r\n\t\t\tthis._handleCardClick(this._name, this._link);\r\n\t\t})\r\n\t\tthis._deleteBtn.addEventListener('click', () => {\r\n\t\t\tthis._handleDeleteIconClick(this._cardId);\r\n\t\t})\r\n\t\tthis._likeBtn.addEventListener('click', () => {\r\n\t\t\tif (this._likeBtn.classList.contains('element__button-like_focus')) {\r\n\t\t\t\tthis._handleRemoveLike(this._cardId);\r\n\t\t\t} else {\r\n\t\t\t\tthis._handleSetLike(this._cardId);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t// Генерируем готовую карточку\r\n\tgenerateCard() {\r\n\t\tthis._element = this._getTemplate();\r\n\t\tthis._image = this._element.querySelector('.element__image');\r\n\t\tthis._likeBtn = this._element.querySelector('.element__button-like');\r\n\t\tthis._likesNumber = this._element.querySelector('.element__likes-number');\r\n\t\tthis._deleteBtn = this._element.querySelector('.element__button-delete');\r\n\r\n\t\tthis._image.src = this._link;\r\n\t\tthis._image.alt = this._name;\r\n\t\tthis._element.querySelector('.element__title').textContent = this._name;\r\n\t\tthis._hasDeleteBtn();\r\n\t\tthis._isCardLiked();\r\n\t\tthis._likesNumber.textContent = this._likes.length;\r\n\t\tthis._setEventListeners();\r\n\r\n\t\treturn this._element;\r\n\t}\r\n\r\n\t// Проверка, стоит ли лайк на карточке\r\n\t_isCardLiked() {\r\n\t\tif (this._likes.some((user) => {\r\n\t\t\treturn this._userId === user._id;\r\n\t\t})) {\r\n\t\t\tthis._likeBtn.classList.add('element__button-like_focus');\r\n\t\t}\r\n\t}\r\n\r\n\t// поставить/удалить лайк, изменение количества лайков\r\n\thandleLikeCard(data) {\r\n\t\tthis._likes = data.likes;\r\n\t\tthis._likesNumber.textContent = this._likes.length;\r\n\t\tthis._likeBtn.classList.toggle('element__button-like_focus');\r\n\t}\r\n\r\n\t// проверяем владельца карточки и убираем кнопку Delete\r\n\t_hasDeleteBtn() {\r\n\t\tif (this._userId !== this._cardOwnerId) {\r\n\t\t\tthis._deleteBtn.remove();\r\n\t\t}\r\n\t}\r\n}","export default class Popup {\r\n\tconstructor(popupSelector) {\r\n\t\tthis._popup = document.querySelector(popupSelector);\r\n\t\tthis._closeButton = this._popup.querySelector('.popup__close');\r\n\t\tthis._escapeClose = this._handleEscClose.bind(this);\r\n\t}\r\n\r\n\topen() {\r\n\t\tthis._popup.classList.add('popup_opened');\r\n\t\tdocument.addEventListener('keydown', this._escapeClose);\r\n\t}\r\n\r\n\tclose() {\r\n\t\tthis._popup.classList.remove('popup_opened');\r\n\t\tdocument.removeEventListener('keydown', this._escapeClose);\r\n\t}\r\n\r\n\t_handleEscClose(event) {\r\n\t\tif (event.key === 'Escape') {\r\n\t\t\tthis.close();\r\n\t\t}\r\n\t}\r\n\r\n\tsetEventListeners() {\r\n\t\tthis._closeButton.addEventListener('click', () => {\r\n\t\t\tthis.close();\r\n\t\t});\r\n\t\tthis._popup.addEventListener('mousedown', (event) => {\r\n\t\t\tif (event.target.classList.contains('popup')) {\r\n\t\t\t\tthis.close();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}","import Popup from \"./Popup.js\";\r\n\r\nexport default class PopupWithForm extends Popup {\r\n\tconstructor({ popupSelector, handleFormSubmit }) {\r\n\t\tsuper(popupSelector);\r\n\t\tthis._handleFormSubmit = handleFormSubmit;\r\n\t\tthis._popupForm = this._popup.querySelector('.popup__form');\r\n\t\tthis._inputList = this._popupForm.querySelectorAll('.popup__input');\r\n\t\tthis._submitBtn = this._popupForm.querySelector('.popup__button');\r\n\t\tthis._submitBtnText = this._submitBtn.textContent;\r\n\t}\r\n\r\n\t// Получаем данные из формы\r\n\t_getInputValues() {\r\n\t\tthis._formValues = {};\r\n\t\tthis._inputList.forEach(input => {\r\n\t\t\tthis._formValues[input.name] = input.value;\r\n\t\t})\r\n\r\n\t\treturn this._formValues;\r\n\t}\r\n\r\n\t// Устанавливаем слушатели формы\r\n\tsetEventListeners() {\r\n\t\tsuper.setEventListeners();\r\n\t\tthis._popupForm.addEventListener('submit', (event) => {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tthis._handleFormSubmit(this._getInputValues());\r\n\t\t})\r\n\t}\r\n\r\n\t// Закрытие попапа + сброс инпутов\r\n\tclose() {\r\n\t\tsuper.close();\r\n\t\tthis._popupForm.reset();\r\n\t}\r\n\r\n\t// Изменяем состояние кнопки во время загрузки\r\n\tloading(isLoading) {\r\n\t\tif (isLoading) {\r\n\t\t\tthis._submitBtn.textContent = 'Сохранение...'\r\n\t\t} else {\r\n\t\t\tthis._submitBtn.textContent = this._submitBtnText;\r\n\t\t}\r\n\t}\r\n}","\r\nexport default class UserInfo {\r\n\tconstructor({ username, job, avatar }) {\r\n\t\tthis._username = document.querySelector(username);\r\n\t\tthis._job = document.querySelector(job);\r\n\t\tthis._avatar = document.querySelector(avatar);\r\n\t}\r\n\r\n\t// возвращает объект с данными пользователя\r\n\tgetUserInfo() {\r\n\t\tconst userInfo = {\r\n\t\t\tusername: this._username.textContent,\r\n\t\t\tjob: this._job.textContent,\r\n\t\t\tavatar: this._avatar.src\r\n\t\t}\r\n\t\treturn userInfo;\r\n\t}\r\n\r\n\t// принимает новые данные пользователя и добавляет их на страницу\r\n\tsetUserInfo(data) {\r\n\t\tthis._username.textContent = data.name;\r\n\t\tthis._job.textContent = data.about;\r\n\t\tthis._avatar.src = data.avatar;\r\n\t}\r\n}","import Popup from \"./Popup.js\";\r\n\r\nexport default class PopupWithImage extends Popup {\r\n\tconstructor(popupSelector) {\r\n\t\tsuper(popupSelector);\r\n\t\tthis._popupImage = this._popup.querySelector('.popup__image-img');\r\n\t\tthis._popupName = this._popup.querySelector('.popup__title-fig');\r\n\t}\r\n\r\n\topen(name, link) {\r\n\t\tthis._popupImage.src = link;\r\n\t\tthis._popupName.textContent = name;\r\n\t\tthis._popupImage.alt = name;\r\n\t\tsuper.open();\r\n\t}\r\n}","export default class Api {\r\n\tconstructor(options) {\r\n\t\tthis._baseUrl = options.baseUrl;\r\n\t\tthis._headers = options.headers;\r\n\t}\r\n\r\n\t_parseResponse(res) {\r\n\t\tif (res.ok) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t\treturn Promise.reject(`Ошибка: ${res.status}`)\r\n\t}\r\n\r\n\t// Получение карточек с сервера\r\n\tgetInitialCards() {\r\n\t\treturn fetch(`${this._baseUrl}/cards`, {\r\n\t\t\theaders: this._headers\r\n\t\t})\r\n\t\t\t.then(res => this._parseResponse(res));\r\n\t}\r\n\r\n\t// Добавление новой карточки через попап\r\n\taddCard(data) {\r\n\t\treturn fetch(`${this._baseUrl}/cards`, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: this._headers,\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tname: data.name,\r\n\t\t\t\tlink: data.link\r\n\t\t\t})\r\n\t\t})\r\n\t\t\t.then(res => this._parseResponse(res));\r\n\t}\r\n\r\n\t// Удаление карточки\r\n\tdeleteCard(cardId) {\r\n\t\treturn fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n\t\t\tmethod: 'DELETE',\r\n\t\t\theaders: this._headers\r\n\t\t})\r\n\t\t\t.then(res => this._parseResponse(res));\r\n\t}\r\n\r\n\t// Ставим лайк карточке\r\n\tsetLike(cardId) {\r\n\t\treturn fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n\t\t\tmethod: 'PUT',\r\n\t\t\theaders: this._headers\r\n\t\t})\r\n\t\t\t.then(res => this._parseResponse(res));\r\n\t}\r\n\r\n\t// Удаляем лайк\r\n\tdeleteLike(cardId) {\r\n\t\treturn fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n\t\t\tmethod: 'DELETE',\r\n\t\t\theaders: this._headers\r\n\t\t})\r\n\t\t\t.then(res => this._parseResponse(res));\r\n\t}\r\n\r\n\t// Получение информации о пользователе с сервера\r\n\tgetUserInfo() {\r\n\t\treturn fetch(`${this._baseUrl}/users/me`, {\r\n\t\t\theaders: this._headers\r\n\t\t})\r\n\t\t\t.then(res => this._parseResponse(res));\r\n\t}\r\n\r\n\t// Редактирование информации о пользователе через попап\r\n\teditUserInfo(data) {\r\n\t\treturn fetch(`${this._baseUrl}/users/me`, {\r\n\t\t\tmethod: 'PATCH',\r\n\t\t\theaders: this._headers,\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tname: data['inputName'],\r\n\t\t\t\tabout: data['inputJob'],\r\n\t\t\t})\r\n\t\t})\r\n\t\t\t.then(res => this._parseResponse(res));\r\n\t}\r\n\r\n\t// Редактирование аватара пользователя через попап\r\n\teditAvatar(data) {\r\n\t\treturn fetch(`${this._baseUrl}/users/me/avatar`, {\r\n\t\t\tmethod: 'PATCH',\r\n\t\t\theaders: this._headers,\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tavatar: data.avatar\r\n\t\t\t})\r\n\t\t})\r\n\t\t\t.then(res => this._parseResponse(res));\r\n\t}\r\n}","import Popup from \"./Popup.js\";\r\n\r\nexport default class PopupWithConfirmation extends Popup {\r\n\tconstructor({ popupSelector }) {\r\n\t\tsuper(popupSelector);\r\n\t\tthis._form = this._popup.querySelector('.popup__form');\r\n\t}\r\n\r\n\t// принимает коллбэк на удаление карточки\r\n\tsubmitCallback(removing) {\r\n\t\tthis._handleSubmit = removing;\r\n\t}\r\n\r\n\t// удаление карточки по нажатию на submit\r\n\tsetEventListeners() {\r\n\t\tsuper.setEventListeners();\r\n\t\tthis._form.addEventListener('click', (event) => {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tthis._handleSubmit();\r\n\t\t});\r\n\t}\r\n}","import './index.css';\r\n\r\nimport {\r\n\tprofileEditBtn, formEditProfile, config, formAddNewCard,\r\n\tpopupAddNewCardOpenBtn, nameInput, jobInput,\r\n\tbuttonEditAvatar, formEditAvatar, avatar\r\n} from '../scripts/utils/constants.js';\r\nimport Section from \"../scripts/components/Section.js\";\r\nimport FormValidator from '../scripts/components/FormValidator.js';\r\nimport Card from \"../scripts/components/Card.js\";\r\nimport PopupWithForm from \"../scripts/components/PopupWithForm.js\";\r\nimport UserInfo from \"../scripts/components/UserInfo.js\";\r\nimport PopupWithImage from \"../scripts/components/PopupWithImage.js\";\r\nimport Api from \"../scripts/components/Api.js\";\r\nimport PopupWithConfirmation from \"../scripts/components/PopupWithConfirmation.js\";\r\n\r\nconst api = new Api({\r\n\tbaseUrl: 'https://mesto.nomoreparties.co/v1/cohort-60',\r\n\theaders: {\r\n\t\tauthorization: '56c23e37-2d26-4f99-806c-d72ff6532f25',\r\n\t\t'Content-Type': 'application/json'\r\n\t}\r\n});\r\n\r\nlet userId;\r\n\r\n// Загрузка карточек и данных о пользователе с сервера\r\nPromise.all([api.getInitialCards(), api.getUserInfo()])\r\n\t.then(([initialCards, userData]) => {\r\n\t\tuserInfo.setUserInfo(userData);\r\n\t\tuserId = userData._id;\r\n\t\tcardsList.renderItems(initialCards);\r\n\t})\r\n\t.catch((err) => {\r\n\t\tconsole.log(`Ошибка: ${err}`);\r\n\t});\r\n\r\nconst userInfo = new UserInfo({\r\n\tusername: '.profile__title',\r\n\tjob: '.profile__paragraph',\r\n\tavatar: '.profile__avatar'\r\n});\r\n\r\n\r\n// попап с формой редактирования профиля\r\nconst editProfilePopup = new PopupWithForm({\r\n\tpopupSelector: '.popup-edit',\r\n\thandleFormSubmit: (dataForm) => {\r\n\t\teditProfilePopup.loading(true);\r\n\t\tapi.editUserInfo(dataForm)\r\n\t\t\t.then((dataForm) => {\r\n\t\t\t\tuserInfo.setUserInfo(dataForm);\r\n\t\t\t\teditProfilePopup.close();\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(`Ошибка: ${err}`);\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\teditProfilePopup.loading(false);\r\n\t\t\t});\r\n\t}\r\n});\r\neditProfilePopup.setEventListeners();\r\n\r\n// Заносим данные в форму попапа редактирования профиля\r\nfunction fillInEditProfileFormInputs({ username, job }) {\r\n\tnameInput.value = username;\r\n\tjobInput.value = job;\r\n}\r\n\r\n// попап редактирования аватара пользователя\r\nconst editAvatarPopup = new PopupWithForm({\r\n\tpopupSelector: '.popup_type_avatar',\r\n\thandleFormSubmit: (data) => {\r\n\t\teditAvatarPopup.loading(true);\r\n\t\tapi.editAvatar(data)\r\n\t\t\t.then((data) => {\r\n\t\t\t\tavatar.src = data.avatar;\r\n\t\t\t\teditAvatarPopup.close();\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(`Ошибка: ${err}`);\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\teditAvatarPopup.loading(false);\r\n\t\t\t});\r\n\t}\r\n});\r\neditAvatarPopup.setEventListeners();\r\n\r\n// Обработчик кнопки Edit аватара пользователя\r\nbuttonEditAvatar.addEventListener('click', () => {\r\n\tformEditAvatarValidator.toggleButtonState();\r\n\teditAvatarPopup.open();\r\n});\r\n\r\n// Обработчик кнопки Edit попапа редактирования профиля\r\nprofileEditBtn.addEventListener('click', () => {\r\n\tconst info = userInfo.getUserInfo();\r\n\tfillInEditProfileFormInputs({\r\n\t\tusername: info.username,\r\n\t\tjob: info.job\r\n\t});\r\n\teditProfilePopup.open();\r\n});\r\n\r\n// создание новой карточки\r\nconst createCard = (data) => {\r\n\tconst card = new Card({\r\n\t\tdata: data,\r\n\t\tcardSelector: '#todo-template',\r\n\t\tuserId: userId,\r\n\t\thandleCardClick: (name, link) => {\r\n\t\t\tviewImagePopup.open(name, link);\r\n\t\t},\r\n\t\thandleDeleteIconClick: (cardId) => {\r\n\t\t\tdeleteCardPopup.open();\r\n\t\t\tdeleteCardPopup.submitCallback(() => {\r\n\t\t\t\tapi.deleteCard(cardId)\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tdeleteCardPopup.close();\r\n\t\t\t\t\t\tcard.deleteCard();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(`Ошибка: ${err}`);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\thandleSetLike: (cardId) => {\r\n\t\t\tapi.setLike(cardId)\r\n\t\t\t\t.then((data) => {\r\n\t\t\t\t\tcard.handleLikeCard(data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(`Ошибка: ${err}`);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\thandleRemoveLike: (cardId) => {\r\n\t\t\tapi.deleteLike(cardId)\r\n\t\t\t\t.then((data) => {\r\n\t\t\t\t\tcard.handleLikeCard(data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(`Ошибка: ${err}`);\r\n\t\t\t\t});\r\n\t\t}\r\n\t});\r\n\tconst cardElement = card.generateCard();\r\n\treturn cardElement;\r\n};\r\n\r\n// экземпляр класса Section\r\nconst cardsList = new Section({\r\n\trenderer: (card) => {\r\n\t\tcardsList.addItem(createCard(card));\r\n\t},\r\n}, '.elements');\r\n\r\n// попап с подтверждением удаления карточки\r\nconst deleteCardPopup = new PopupWithConfirmation({\r\n\tpopupSelector: '.popup_type_delete-card'\r\n});\r\ndeleteCardPopup.setEventListeners();\r\n\r\n// попап с формой добавления новой карточки\r\nconst addCardPopup = new PopupWithForm({\r\n\tpopupSelector: '.popup-add',\r\n\thandleFormSubmit: (formData) => {\r\n\t\taddCardPopup.loading(true);\r\n\t\tapi.addCard(formData)\r\n\t\t\t.then((formData) => {\r\n\t\t\t\tcardsList.addItem(createCard(formData));\r\n\t\t\t\taddCardPopup.close();\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(`Ошибка: ${err}`);\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\taddCardPopup.loading(false);\r\n\t\t\t});\r\n\t}\r\n});\r\n// добавляем слушатели этому попапу:\r\naddCardPopup.setEventListeners();\r\n// обработчик открытия попапа\r\npopupAddNewCardOpenBtn.addEventListener('click', () => {\r\n\tformAddNewCardValidator.toggleButtonState();\r\n\taddCardPopup.open();\r\n})\r\n\r\nconst viewImagePopup = new PopupWithImage('.popup-image');\r\nviewImagePopup.setEventListeners();\r\n\r\n\r\n// Валидация форм\r\nconst formEditProfileValidator = new FormValidator(config, formEditProfile);\r\nformEditProfileValidator.enableValidation();\r\n\r\nconst formAddNewCardValidator = new FormValidator(config, formAddNewCard);\r\nformAddNewCardValidator.enableValidation();\r\n\r\nconst formEditAvatarValidator = new FormValidator(config, formEditAvatar);\r\nformEditAvatarValidator.enableValidation();"],"names":["popupEditProfile","document","querySelector","popupAddNewCard","popupEditAvatar","profileEditBtn","popupAddNewCardOpenBtn","buttonEditAvatar","formEditProfile","formAddNewCard","formEditAvatar","nameInput","jobInput","avatar","config","popupForm","inputErrorClass","inputErrorActive","activeButtonClass","inactiveButtonClass","formInput","formSubmit","Section","containerSelector","renderer","this","_renderer","_container","data","forEach","item","element","prepend","FormValidator","formElement","_hasInvalidInput","_buttonElement","classList","add","_inactiveButtonClass","setAttribute","remove","removeAttribute","_config","_formElement","_inputList","Array","from","querySelectorAll","inputElement","errorMessage","errorElement","id","textContent","validity","valid","_hideInputError","_showInputError","validationMessage","some","toggleButtonState","addEventListener","_checkInputValidity","event","preventDefault","_setEventListeners","Card","cardSelector","userId","handleCardClick","handleDeleteIconClick","handleSetLike","handleRemoveLike","_name","name","_link","link","_cardSelector","_userId","_cardId","_id","_cardOwnerId","owner","_handleCardClick","_handleDeleteIconClick","_likes","likes","_handleSetLike","_handleRemoveLike","_card","content","cloneNode","_element","_image","_deleteBtn","_likeBtn","contains","_getTemplate","_likesNumber","src","alt","_hasDeleteBtn","_isCardLiked","length","user","toggle","Popup","popupSelector","_popup","_closeButton","_escapeClose","_handleEscClose","bind","removeEventListener","key","close","target","PopupWithForm","handleFormSubmit","_handleFormSubmit","_popupForm","_submitBtn","_submitBtnText","_formValues","input","value","_getInputValues","reset","isLoading","UserInfo","username","job","_username","_job","_avatar","about","PopupWithImage","_popupImage","_popupName","Api","options","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_parseResponse","method","body","JSON","stringify","cardId","PopupWithConfirmation","_form","removing","_handleSubmit","api","authorization","all","getInitialCards","getUserInfo","initialCards","userData","userInfo","setUserInfo","cardsList","renderItems","catch","err","console","log","editProfilePopup","dataForm","loading","editUserInfo","finally","setEventListeners","editAvatarPopup","editAvatar","formEditAvatarValidator","open","info","createCard","card","viewImagePopup","deleteCardPopup","submitCallback","deleteCard","setLike","handleLikeCard","deleteLike","generateCard","addItem","addCardPopup","formData","addCard","formAddNewCardValidator","enableValidation"],"sourceRoot":""}